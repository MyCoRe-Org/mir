<?xml version="1.0" encoding="ISO-8859-1"?>

<xed:template xmlns:xed="http://www.mycore.de/xeditor" xmlns:mir="http://www.mycore.de/mir"
              xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <xsl:param name="MIR.PPN.DatabaseList" select="gvk"/>
  <xsl:param name="MCR.Metadata.DefaultLang" select="en"/>
  <xsl:param name="MCR.Metadata.Languages" select="en"/>

  <xed:template id="in.out">
    <xed:source uri="xslStyle:import/remove-genres,import/mods2mycoreobject,editor/mods2xeditor:enrich:import:buildxml:_rootName_=mods:mods&amp;mods:identifier={$modsId}&amp;mods:identifier/@type={$type}" />
    <xed:source uri="xslStyle:RDF-mods-journal,editor/mods2xeditor:http://ld.zdb-services.de/data/{$zdbid}.rdf" />
    <xed:source uri="xslStyle:mycoreobject-editor,editor/mods2xeditor:mcrobject:{$id}" />
    <xed:source uri="xslStyle:mycoreobject-copyof,editor/mods2xeditor:mcrobject:{$copyofid}" />
    <xed:source uri="xslStyle:mods-addPreceding,mycoreobject-copyof,editor/mods2xeditor:mcrobject:{$oldVersion}" />
    <xed:source uri="xslStyle:as{$relatedItemType},editor/mods2xeditor:mcrobject:{$relatedItemId}" />

    <xed:cancel
      url="../servlets/MCRLockServlet?action=unlock&amp;id={$id}&amp;url=/receive/{$id}?XSL.Status.Message=mir.editstatus.canceled&amp;XSL.Status.Style=danger" />
    <xed:cancel url="{$cancelUrl}?XSL.Status.Message=mir.editstatus.canceled&amp;XSL.Status.Style=danger" />
    <xed:cancel url="../index.html?XSL.Status.Message=mir.editstatus.canceled&amp;XSL.Status.Style=danger" />
    <xed:post-processor class="org.mycore.mir.editor.MIRPostProcessor" xsl="editor/xeditor2mods.xsl" />
  </xed:template>

  <xed:template id="mycore.common">
    <xed:choose>
      <xed:when test="string-length($origin) &gt; 0">
        <xed:bind xpath="@ID" initially="{$origin}_mods_00000000" />
      </xed:when>
      <xed:when test="xed:call-java('org.mycore.common.xml.MCRXMLFunctions','getCurrentUserAttribute','origin')">
        <xed:bind xpath="@ID" initially="{xed:call-java('org.mycore.common.xml.MCRXMLFunctions','getCurrentUserAttribute','origin')}_mods_00000000" />
      </xed:when>
      <xed:otherwise>
        <xed:bind xpath="@ID" initially="{$MIR.projectid.default}_mods_00000000" />
      </xed:otherwise>
    </xed:choose>
    <input type="hidden" name="XSL.Status.Message" value="mir.editstatus.success" />
    <input type="hidden" name="XSL.Status.Style" value="success" />
  </xed:template>

  <xed:template id="genre.base">
    <label class="col-md-3 col-form-label text-end form-label">
      <xed:output i18n="component.mods.genre" />
    </label>
    <div class="col-md-6">
      <div class="controls">
        <select class="form-control form-control-inline form-select">
          <option value="">
            <xed:output i18n="mir.select" />
          </option>
          <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:mir_genres" />
        </select>
      </div>
    </div>
  </xed:template>

  <xed:template id="genre">
    <xed:load-resource name="mir_genres" uri="classification:metadata:-1:children:mir_genres" />
    <xed:if test="mods:genre[@type='intern'][not(@authorityURI)]">
      <xed:bind xpath="mods:genre[@type='intern'][not(@authorityURI)]">
        <xed:bind xpath="@authorityURI" set="{$mir_genres/label[@xml:lang='x-uri']/@text}" />
      </xed:bind>
    </xed:if>
    <xed:repeat xpath="mods:genre[@type='intern'][@authorityURI=$mir_genres/label[@xml:lang='x-uri']/@text]" min="1" max="10">
      <xed:bind xpath="@valueURIxEditor" initially="{$genre}">
        <div class="mir-form-group row required {$xed-validation-marker}">
          <xed:include ref="genre.base" />
          <mir:help-pmud help-text="{i18n:mir.help.genre}" pmud="true" />
        </div>
      </xed:bind>
    </xed:repeat>
  </xed:template>

  <xed:template id="genre.simple">
    <xed:load-resource name="mir_genres" uri="classification:metadata:-1:children:mir_genres" />
    <xed:bind xpath="mods:genre[@type='intern'][@authorityURI=$mir_genres/label[@xml:lang='x-uri']/@text]/@valueURIxEditor" initially="{$genre}">
      <div class="mir-form-group row required {$xed-validation-marker}">
        <xed:include ref="genre.base" />
        <mir:help-pmud help-text="{i18n:mir.help.genre}" />
      </div>
    </xed:bind>
  </xed:template>

  <xed:template id="genre.simple.nonrequired">
    <xed:bind xpath="mods:genre[@type='intern'][@authorityURI=$mir_genres/label[@xml:lang='x-uri']/@text]/@valueURIxEditor" initially="{$genre}">
      <div class="mir-form-group row">
        <xed:include ref="genre.base" />
        <mir:help-pmud help-text="{i18n:mir.help.genre}" />
      </div>
    </xed:bind>
  </xed:template>

  <!-- ========== table of contents ========== -->
  <xed:template id="toc-layout">
    <div class="mir-form-group row">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="component.mods.metaData.dictionary.tocLayout" />:
      </label>
      <xed:bind xpath="../../../../service">
        <xed:bind xpath="servflags[@class='MCRMetaLangText']/servflag[@type='tocLayout']">
          <div class="col-md-6">
            <div class="controls">
              <select class="form-control form-control-inline form-select">
                <option value="">
                  <xed:output i18n="mir.select.optional" />
                </option>
                <xed:include uri="xslStyle:toc/toc-layouts2options:resource:toc-layouts.xml" />
              </select>
            </div>
          </div>
        </xed:bind>
      </xed:bind>
      <mir:help-pmud help-text="{i18n:mir.help.tocLayout}" />
    </div>
    <xed:cleanup-rule xpath="//service/servflags/servflag" relevant-if="string-length(text()) &gt; 0" />
    <xed:cleanup-rule xpath="//service/servflags" relevant-if="servflag" />
  </xed:template>

  <xed:template id="status">
    <div class="mir-form-group row">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="component.mods.metaData.dictionary.status" />
      </label>
      <xed:bind xpath="servstates[@class='MCRMetaClassification']/servstate[@classid='state']/@categid" initially="{$MIR.Editor.Default.State}">
        <div class="col-md-6">
          <div class="controls">
            <select class="form-control form-control-inline form-select">
              <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:state" />
            </select>
          </div>
        </div>
      </xed:bind>
      <mir:help-pmud help-text="{i18n:mir.help.status}" />
    </div>
  </xed:template>

  <xed:template id="title">
    <mir:textfield xpath="mods:titleInfo/mods:title" label="mir.title" help-text="{i18n:mir.help.title}" class="required" required="true"
      required-i18n="mir.validation.title" />
  </xed:template>

  <xed:template id="title.nonrequired">
    <mir:textfield xpath="mods:titleInfo/mods:title" label="mir.title" help-text="{i18n:mir.help.title}" />
  </xed:template>

  <xed:template id="title.abbreviated">
    <mir:textfield xpath="mods:titleInfo[@type='abbreviated']/mods:title" label="mir.title.type.abbreviated" help-text="{i18n:mir.help.title.abbreviated}" />
  </xed:template>

  <xed:template id="title.issue.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="issue" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title" class="required" />
  </xed:template>

  <xed:template id="title.journal">
    <mir:textfield xpath="mods:titleInfo/mods:title" label="mir.title.journal" help-text="{i18n:mir.help.title.journal}" class="required"
      required="true" required-i18n="mir.validation.title" />
  </xed:template>

  <xed:template id="title.newspaper">
    <mir:textfield xpath="mods:titleInfo/mods:title" label="mir.title.newspaper" help-text="{i18n:mir.help.title.newspaper}" class="required"
      required="true" required-i18n="mir.validation.title" />
  </xed:template>

  <xed:template id="series.title">
    <mir:textfield xpath="mods:titleInfo/mods:title" label="mir.series.title" placeholder="{i18n:mir.placeholder.series.title}" id="series-title"
      class="required" required="true" required-i18n="mir.validation.title" />
  </xed:template>

  <xed:template id="title.series.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="series" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      help-text="{i18n:mir.help.series.title}" class="required" required="true" required-i18n="mir.validation.title.series"
      placeholder="{i18n:mir.title.placeholder.series.relItemsearch}" />
  </xed:template>

  <xed:template id="title.lecture.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="lecture" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      help-text="{i18n:mir.help.series.title}" placeholder="{i18n:mir.title.placeholder.lecture.relItemsearch}" />
  </xed:template>

  <xed:template id="title.book.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="book" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      class="required" required="true" required-i18n="mir.validation.title.book" placeholder="{i18n:mir.title.placeholder.book.relItemsearch}"/>
  </xed:template>

  <xed:template id="title.lexicon.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="lexicon" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      class="required" required="true" required-i18n="mir.validation.title.lexicon" placeholder="{i18n:mir.title.placeholder.lexicon.relItemsearch}" />
  </xed:template>

  <xed:template id="title.journal.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="journal" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title.journal"
      help-text="{i18n:mir.help.title.journal}" class="required" required="true" required-i18n="mir.validation.title.series"
      placeholder="{i18n:mir.title.placeholder.journal.relItemsearch}" />
  </xed:template>

  <xed:template id="title.collection.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="collection" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      class="required" required="true" required-i18n="mir.validation.title.collection" placeholder="{i18n:mir.title.placeholder.collection.relItemsearch}" />
  </xed:template>

  <xed:template id="title.festschrift.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="festschrift" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      class="required" required="true" required-i18n="mir.validation.title.festschrift" placeholder="{i18n:mir.title.placeholder.festschrift.relItemsearch}" />
  </xed:template>

  <xed:template id="title.proceedings.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="proceedings" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      placeholder="{i18n:mir.title.placeholder.proceedings.relItemsearch}" />
  </xed:template>

  <xed:template id="title.newspaper.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="newspaper" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title"
      class="required" required="true" required-i18n="mir.validation.title.newspaper" placeholder="{i18n:mir.title.placeholder.newspaper.relItemsearch}" />
  </xed:template>

  <xed:template id="title.blog.relItemsearch">
    <mir:relItemsearch searchengine="title" genre="blog" responsefield="mods.title" xpath="mods:titleInfo/mods:title" label="mir.title.blog" help-text="{i18n:mir.help.title.blog}"
      class="required" required="true" required-i18n="mir.validation.blog.title" placeholder="{i18n:mir.title.placeholder.blog.relItemsearch}"/>
  </xed:template>

  <xed:template id="subtitle">
    <mir:textfield xpath="mods:titleInfo/mods:subTitle" label="mir.title.subTitle" help-text="{i18n:mir.help.title.subTitle}" />
  </xed:template>

  <xed:template id="title.original">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.title.type.original" />
      </legend>
      <xed:bind xpath="mods:titleInfo">
        <div class="mir-fieldset-content">
          <mir:textfield xpath="mods:title" label="mir.title" placeholder="{i18n:mir.placeholder.title.main}" help-text="{i18n:mir.help.title}"
            class="required" required="true" required-i18n="mir.validation.title" />
          <mir:textfield xpath="mods:subTitle" label="mir.title.subTitle" help-text="{i18n:mir.help.title.subTitle}" />
        </div>
      </xed:bind>
    </fieldset>
  </xed:template>

  <xed:template id="title.original.nonrequired">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.title.type.original" />
      </legend>
      <xed:bind xpath="mods:titleInfo">
        <div class="mir-fieldset-content">
          <mir:textfield xpath="mods:title" label="mir.title" placeholder="{i18n:mir.placeholder.title.main}" help-text="{i18n:mir.help.title}" />
          <mir:textfield xpath="mods:subTitle" label="mir.title.subTitle" help-text="{i18n:mir.help.title.subTitle}" />
        </div>
      </xed:bind>
    </fieldset>
  </xed:template>

  <xed:template id="title.translated">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.title.type.translated" />
      </legend>
      <xed:repeat xpath="mods:titleInfo[@type='translated']" min="1" max="6">
        <div class="mir-fieldset-content">
          <div class="mir-form-group row">
            <label class="col-md-3 col-form-label text-end mir-formgroup-label form-label">
              <xed:output i18n="mir.title" />
            </label>
            <div class="col-md-6">
              <xed:bind xpath="mods:title">
                <input type="text" class="form-control" placeholder="{i18n:mir.placeholder.title.translated}" />
              </xed:bind>
            </div>
            <mir:help-pmud pmud="true" />
          </div>
          <mir:textfield xpath="mods:subTitle" label="mir.title.subTitle" />
          <div class="mir-form-group row">
            <label class="col-md-3 col-form-label text-end mir-formgroup-label form-label">
              <xed:output i18n="mir.language" />
            </label>
            <div class="col-md-6">
              <xed:bind xpath="@xml:lang" initially="de">
                <xed:include ref="lang.list" />
              </xed:bind>
            </div>
          </div>
        </div>
      </xed:repeat>
    </fieldset>
  </xed:template>

  <xed:template id="titles.thesis">
    <xed:include ref="titles.thesis.common" />
  </xed:template>

  <xed:template id="titles.thesis.common">
    <xed:include ref="title.original" />
    <xed:include ref="title.translated" />
  </xed:template>

  <xed:template id="title.complex.repeated">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.title.type" />
      </legend>
      <xed:repeat xpath="mods:titleInfo" min="1" max="6">
        <div class="mir-fieldset-content">
          <div class="mir-form-group row">
            <label class="col-md-3 col-form-label text-end form-label">
              <xed:output i18n="mir.title.nonSort" />
            </label>
            <div class="col-md-6">
              <div class="form-inline controls">
                <xed:bind xpath="mods:nonSort">
                  <input type="text" size="9" class="form-control form-control-inline" placeholder="Der/Die/Das" />
                </xed:bind>
                <xed:bind xpath="@xml:lang" initially="de">
                  <xed:include ref="lang.list" />
                </xed:bind>
                <xed:bind xpath="@type">
                  <select class="form-control form-control-inline form-select">
                    <option value="">
                      <xed:output i18n="mir.title.type.main" />
                    </option>
                    <option value="translated">
                      <xed:output i18n="mir.title.type.translated" />
                    </option>
                    <option value="alternative">
                      <xed:output i18n="mir.title.type.alternative" />
                    </option>
                    <option value="abbreviated">
                      <xed:output i18n="mir.title.type.abbreviated" />
                    </option>
                    <option value="uniform">
                      <xed:output i18n="mir.title.type.uniform" />
                    </option>
                  </select>
                </xed:bind>
              </div>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.title.complex}" pmud="true" />
          </div>
          <mir:textarea xpath="mods:title" rows="2" label="mir.title" help-text="{i18n:mir.help.title}" />
          <mir:textarea xpath="mods:subTitle" rows="2" label="mir.title.subTitle" help-text="{i18n:mir.help.title.subTitle}" />
        </div>
      </xed:repeat>
    </fieldset>
  </xed:template>

  <xed:template id="author.repeated">
    <mir:role.repeated role="aut" label="mir.role.author" help-text="{i18n:mir.help.role.author}" />
  </xed:template>

  <xed:template id="editor.repeated">
    <mir:role.repeated role="edt" label="mir.role.editor" help-text="{i18n:mir.help.role.editor}" />
  </xed:template>

  <xed:template id="inventor.repeated">
    <mir:role.repeated role="inv" label="mir.role.inventor" help-text="{i18n:mir.help.role.inventor}" />
  </xed:template>

  <xed:template id="advisor.repeated">
    <mir:role.repeated role="ths" label="mir.role.advisor" help-text="{i18n:mir.help.role.advisor}" />
  </xed:template>

  <xed:template id="producer.repeated">
    <mir:role.repeated role="pro" label="mir.role.producer.name" help-text="{i18n:mir.help.role.advisor}" />
  </xed:template>

  <xed:template id="editor.honoree.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='edt']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='hnr']" />
    <mir:person.repeated help-text="{i18n:mir.help.editor.honoree}">
      <option value="edt">
        <xed:output i18n="mir.role.editor" />
      </option>
      <option value="hnr">
        <xed:output i18n="mir.role.honoree" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="author.interviewee.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='aut']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='ive']" />
    <mir:person.repeated help-text="{i18n:mir.help.author.interviewee}">
      <option value="aut">
        <xed:output i18n="mir.role.author" />
      </option>
      <option value="ive">
        <xed:output i18n="mir.role.interviewee" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="producer.speaker.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='pro']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='spk']" />
    <mir:person.repeated help-text="{i18n:mir.help.producer.speaker}">
      <option value="pro">
        <xed:output i18n="mir.role.producer" />
      </option>
      <option value="spk">
        <xed:output i18n="mir.role.speaker" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="artist.photographer.repeated">
    <mir:person.repeated help-text="{i18n:mir.help.artist.photographer}">
      <option value="art">
        <xed:output i18n="mir.role.artist" />
      </option>
      <option value="pht">
        <xed:output i18n="mir.role.photographer" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="thesis.advisor.repeated">
    <mir:role.repeated role="aut" label="mir.role.thesis" help-text="{i18n:mir.help.role.thesis}" />
    <mir:role.repeated role="ths" label="mir.role.advisor" help-text="{i18n:mir.help.role.advisor}" />
  </xed:template>

  <xed:template id="thesis.advisor.reviewer.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='aut']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='ths']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='rev']" />
    <mir:person.repeated help-text="{i18n:mir.help.thesis.advisor.reviewer}">
      <option value="aut">
        <xed:output i18n="mir.role.thesis" />
      </option>
      <option value="ths">
        <xed:output i18n="mir.role.advisor" />
      </option>
      <option value="rev">
        <xed:output i18n="mir.role.reviewer" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="research.data.person.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='aut']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='cre']" />
    <mir:person.extended.repeated help-text="{i18n:mir.help.research.data.person}">
      <option value="aut">
        <xed:output i18n="mir.role.author" />
      </option>
      <option value="ann">
        <xed:output i18n="mir.role.annotator" />
      </option>
      <option value="cre">
        <xed:output i18n="mir.role.creator" />
      </option>
      <option value="col">
        <xed:output i18n="mir.role.collector" />
      </option>
      <option value="ctb">
        <xed:output i18n="mir.role.contributor" />
      </option>
      <option value="dtc">
        <xed:output i18n="mir.role.dataContributor" />
      </option>
      <option value="ivr">
        <xed:output i18n="mir.role.interviewer" />
      </option>
      <option value="mdc">
        <xed:output i18n="mir.role.metadataContact" />
      </option>
      <option value="pbl">
        <xed:output i18n="mir.role.publisher" />
      </option>
      <option value="rev">
        <xed:output i18n="mir.role.reviewer" />
      </option>
      <option value="own">
        <xed:output i18n="mir.role.owner" />
      </option>
      <option value="oth">
        <xed:output i18n="mir.role.other" />
      </option>
    </mir:person.extended.repeated>
  </xed:template>

  <xed:template id="research.data.date.repeated">
    <xed:repeat xpath="mods:originInfo" min="1" max="6">
      <div class="mir-form-group row">
        <div class="col-md-3">
          <xed:bind xpath="@eventType" default="creation">
            <select class="form-control form-control-inline date-select form-select">
              <option value="creation">
                <xed:output i18n="mir.date.created" />
              </option>
              <option value="collection">
                <xed:output i18n="mir.date.collected" />
              </option>
              <option value="publication">
                <xed:output i18n="mir.date.issued.10" />
              </option>
              <option value="review">
                <xed:output i18n="mir.date.reviewed" />
              </option>
              <option value="update">
                <xed:output i18n="mir.date.updated" />
              </option>
            </select>
          </xed:bind>
        </div>
        <mir:dateRangeInput xpath="mods:dateCreated[@encoding='w3cdtf']" class="datetimepicker date-changeable col-md-6" placeholder="{i18n:mir.placeholder.date}"
          type="creation" />
        <mir:dateRangeInput xpath="mods:dateCaptured[@encoding='w3cdtf']" class="datetimepicker date-changeable d-none col-md-6" placeholder="{i18n:mir.placeholder.date}"
          type="collection" />
        <mir:dateRangeInput xpath="mods:dateIssued[@encoding='w3cdtf']" class="datetimepicker date-changeable d-none col-md-6" placeholder="{i18n:mir.placeholder.date}"
          type="publication" />
        <mir:dateRangeInput xpath="mods:dateOther[@type='reviewed'][@encoding='w3cdtf']" class="datetimepicker date-changeable d-none col-md-6"
          placeholder="{i18n:mir.placeholder.date}" type="review" />
        <mir:dateRangeInput xpath="mods:dateModified[@encoding='w3cdtf']" class="datetimepicker date-changeable d-none col-md-6" placeholder="{i18n:mir.placeholder.date}"
          type="update" />
        <mir:help-pmud help-text="{i18n:mir.help.date.repeated}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="thesis.advisor.reviewer.all.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='aut']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='rev']" />
    <mir:person.repeated help-text="{i18n:mir.help.thesis.advisor.reviewer}">
      <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:marcrelator" />
    </mir:person.repeated>
  </xed:template>

  <xed:template id="otherthesis.advisor.reviewer.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='aut']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='ths']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='rev']" />
    <mir:person.repeated>
      <option value="aut">
        Student:<!-- TODO: i18n -->
      </option>
      <option value="ths">
        Betreuer:<!-- TODO: i18n -->
      </option>
      <option value="rev">
        <xed:output i18n="mir.role.reviewer" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="thesisHabil.repeated">
    <mir:role.repeated role="aut" label="mir.role.thesisHabil" help-text="{i18n:mir.help.role.thesisHabil}" />
  </xed:template>

  <xed:template id="thesisHabil.reviewer.repeated">
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='aut']" />
    <xed:bind xpath="mods:name[@type='personal'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='rev']" />
    <mir:person.repeated help-text="{i18n:mir.help.thesisHabil.reviewer}">
      <option value="aut">
        <xed:output i18n="mir.role.thesisHabil" />
      </option>
      <option value="rev">
        <xed:output i18n="mir.role.reviewer" />
      </option>
    </mir:person.repeated>
  </xed:template>

  <xed:template id="name.repeated">
    <mir:person.repeated help-text="{i18n:mir.help.name.repeated}">
      <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:marcrelator" />
    </mir:person.repeated>
  </xed:template>

  <xed:template id="name.extended.repeated">
    <mir:person.extended.repeated help-text="{i18n:mir.help.name.repeated}">
      <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:marcrelator" />
    </mir:person.extended.repeated>
  </xed:template>

  <xed:template id="name.extended.full.repeated">
    <mir:person.extended.repeated help-text="{i18n:mir.help.name.repeated}" authorSpecification="true">
      <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:marcrelator" />
    </mir:person.extended.repeated>
  </xed:template>

  <xed:template id="person.fields">
    <div class="search-person">
      <xed:bind xpath="@type" initially="personal">
        <input type="hidden" class="nameType" />
      </xed:bind>
      <xed:bind xpath="mods:displayForm">
        <input type="hidden"/>
        <div class="nameSearchApp" define-own-identifier="true">
        </div>
      </xed:bind>
      <xed:repeat xpath="mods:nameIdentifier" min="10" max="10">
        <input type="hidden" class="nameIdentifier"/>
        <xed:bind xpath="@type">
          <input type="hidden" class="nameIdentifierType"/>
        </xed:bind>
      </xed:repeat>
    </div>
    <!-- ========== LSF subselect ==========
    <button type="submit" class="btn btn-secondary" xed:target="subselect" xed:href="../lsfSearch.html?lastName={mods:namePart[@type='family']}">
      <xed:output i18n="button.selectPerson" />
    </button>
    <xed:if test="mods:namePart">
      <p class="form-control-static">
        <xed:output value="concat(mods:namePart[@type='family'],', ',mods:namePart[@type='given'])" />
      </p>
    </xed:if>
    <xed:if test="string-length(@valueURI) &gt; 0">
      <p class="form-control-static">
        <a href="{@valueURI}">
          <xed:output value="concat(' (ID ',substring-after(@valueURI,'pid='),')')" />
        </a>
      </p>
    </xed:if>
    -->
  </xed:template>

  <xed:template id="person.fields.noHidden">
    <div class="search-person">
      <xed:bind xpath="mods:displayForm">
        <input type="hidden"/>
        <div class="nameSearchApp" define-own-identifier="true">
        </div>
      </xed:bind>
      <xed:repeat xpath="mods:nameIdentifier" min="10" max="10">
        <input type="hidden" class="nameIdentifier"/>
        <xed:bind xpath="@type">
          <input type="hidden" class="nameIdentifierType"/>
        </xed:bind>
      </xed:repeat>
    </div>
  </xed:template>

  <xed:template id="nameType">
    <xed:bind xpath="@type" initially="personal">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.nameType" />
        </label>
        <div class="col-md-6">
          <div class="controls">
            <select class="form-control form-control-inline nameType form-select">
              <option value="personal">
                <xed:output i18n="mir.nameType.personal" />
              </option>
              <option value="corporate">
                <xed:output i18n="mir.nameType.corporate" />
              </option>
            </select>
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.nameType}" />
      </div>
    </xed:bind>
  </xed:template>

  <xed:template id="authorSpecification.repeated">
    <xed:repeat xpath="mods:role/mods:roleTerm[@authorityURI='https://www.mycore.de/classifications/author_roles']" min="1">
      <div class="mir-form-group row authorSpecification">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.editor.person.authorSpecification" />
        </label>
        <div class="col-md-6">
          <div class="controls">
            <xed:bind xpath="@valueURIxEditor">
              <select class="form-control form-control-inline form-select">
                <option value="">
                  <xed:output i18n="mir.select.optional" />
                </option>
                <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:author_roles" />
              </select>
            </xed:bind>
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.authorSpecification}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="person.affiliation">
    <!-- affiliation without authorityURI -->
    <mir:textfield repeat="true" xpath="mods:affiliation[not(@authorityURI)]" help-text="{i18n:mir.help.affiliation}" label="mir.affiliation" />

    <!-- affiliation with authorityURI https://ror.org/ -->
    <xed:repeat xpath="mods:affiliation[@authorityURI='https://ror.org/']" min="1" max="10">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end">
          <xed:output i18n="mir.affiliation.with.ror.id.label"/>
        </label>

        <div class="col-md-6">
          <xed:bind xpath=".">
            <select class="form-control mir-select-searchable mir-select-affiliation"
                    data-placeholder="{i18n:mir.affiliation.with.ror.id.placeholder}">

              <xed:choose>
                <xed:when test="string-length(@valueURI) &gt; 0">
                  <option>
                    <xsl:attribute name="value">
                      <xsl:value-of select="concat(., ' (', @valueURI, ')')"/>
                    </xsl:attribute>
                    <xed:output value="."/>
                  </option>
                </xed:when>
                <xed:otherwise>
                  <option>
                    <xed:output value="."/>
                  </option>
                </xed:otherwise>
              </xed:choose>

            </select>
          </xed:bind>

        </div>
        <mir:help-pmud help-text="{i18n:mir.help.affiliation.with.ror.id}" pmud="true"/>
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="nameIdentifier.repeated">
    <xed:repeat xpath="mods:nameIdentifier" min="1" max="100">
      <div class="mir-form-group row">
        <xed:bind xpath="@type" name="type">
          <div class="col-md-3">
            <select class="form-control nameIdentifierType form-select" style="text-align:right; font-weight:bold;">
              <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:nameIdentifier" />
              <xed:load-resource name="identifier" uri="classification:metadata:-1:children:nameIdentifier" />
              <xed:if test="not($identifier//category[@ID=$type]) and not($type='')">
                <option value="{$type}" selected="">
                  <xed:output value="$type" i18n="mir.identifier.other" />
                </option>
              </xed:if>
            </select>
          </div>
        </xed:bind>
        <div class="col-md-6">
          <input type="text" size="20" class="form-control form-control-inline {$xed-validation-marker} nameIdentifier" />
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.nameIdentifier}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="identifier.issn.issue.relItemsearch">
    <mir:relItemsearch searchengine="issn" genre="issue" responsefield="identifier.type.issn" xpath="mods:identifier[@type='issn']" label="mir.identifier.issn"
      help-text="{i18n:mir.help.identifier.issn}" />
  </xed:template>

  <xed:template id="topicIdentifier">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.subject.topic.gnd.type" />
        </label>
        <div class="col-md-6">
          <xed:bind xpath="@valueURIxEditor">
            <input type="text" size="20" class="form-control form-control-inline topic_gnd" />
          </xed:bind>
          <xed:bind xpath="@authority" initially="gnd">
            <input type="hidden" class="topic_gndType" />
          </xed:bind>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.topicIdentifier}" pmud="false" />
      </div>
  </xed:template>

  <xed:template id="namePart.repeated">
    <xed:repeat xpath="mods:namePart" min="1" max="100">
      <div class="mir-form-group row">
        <xed:bind xpath="@type" name="type" initially="termsOfAddress">
          <div class="col-md-3">
            <select class="form-control form-select" style="text-align:right; font-weight:bold;">
              <option value="family">
                <xed:output i18n="mir.namePart.family" />
              </option>
              <option value="given">
                <xed:output i18n="mir.namePart.given" />
              </option>
              <option value="date">
                <xed:output i18n="mir.namePart.date" />
              </option>
              <option value="termsOfAddress">
                <xed:output i18n="mir.namePart.termsOfAddress" />
              </option>
              <option value="other">
                <xed:output i18n="mir.namePart.other" />
              </option>
            </select>
          </div>
        </xed:bind>
        <div class="col-md-6">
          <input type="text" size="20" class="form-control form-control-inline" />
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.namePart}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="conference">
    <mir:textfield xpath="mods:name[@type='conference']/mods:namePart" label="mir.conference" help-text="{i18n:mir.help.conference}" placeholder="{i18n:mir.placeholder.conference}" />
  </xed:template>

  <xed:template id="conference.itemsearch">
    <mir:itemsearch searchengine="conference" responsefield="mods.name.conference" xpath="mods:name[@type='conference']/mods:namePart" label="mir.conference"
      help-text="{i18n:mir.help.conference}" placeholder="{i18n:mir.placeholder.conference}" />
  </xed:template>

  <xed:template id="year.issued">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.issued.4" help-text="{i18n:mir.help.date.issued.4}"
      placeholder="{i18n:mir.placeholder.year}" />
  </xed:template>

  <xed:template id="year.issued.relItem">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.issued.4" help-text="{i18n:mir.help.date.issued.4}"
      class="mir-modspart" placeholder="{i18n:mir.placeholder.year}" />
  </xed:template>

  <xed:template id="date.issued">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.issued.10" help-text="{i18n:mir.help.date.issued.10}"
      placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.issued.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.issued.10" help-text="{i18n:mir.help.date.issued.10}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.broadcasted">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.broadcasted" help-text="{i18n:mir.help.date.broadcasted}"
      placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.broadcasted.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.broadcasted" help-text="{i18n:mir.help.date.broadcasted}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.recorded.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.recorded" help-text="{i18n:mir.help.date.recorded}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.accepted">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" label="mir.date.accepted"
      help-text="{i18n:mir.help.date.accepted}" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.accepted.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" label="mir.date.accepted"
      help-text="{i18n:mir.help.date.accepted}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.acceptedHabil">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" label="mir.date.acceptedHabil"
      help-text="{i18n:mir.help.date.acceptedHabil}" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.acceptedHabil.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" label="mir.date.acceptedHabil"
      help-text="{i18n:mir.help.date.acceptedHabil}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.acceptedOtherThesis">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" label="mir.date.acceptedOthertheis"
      help-text="{i18n:mir.help.date.accepted}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.acceptedOtherThesis.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" label="mir.date.acceptedOtherThesis"
      help-text="{i18n:mir.help.date.accepted}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.submitted">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='submitted'][@encoding='w3cdtf']" label="mir.date.submitted"
      help-text="{i18n:mir.help.date.submitted}" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.submitted.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='submitted'][@encoding='w3cdtf']" label="mir.date.submitted"
      help-text="{i18n:mir.help.date.submitted}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="part.date">
    <mir:textfield xpath="mods:part/mods:date[@encoding='w3cdtf']" label="mir.host.date" help-text="{i18n:mir.help.host.date}" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="part.date.datetimepicker">
    <mir:textfield xpath="mods:part/mods:date[@encoding='w3cdtf']" label="mir.host.date" help-text="{i18n:mir.help.host.date}" class="datetimepicker"
      placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.created">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateCreated[@encoding='w3cdtf']" label="mir.date.created" help-text="{i18n:mir.help.date.created}"
      placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.created.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:dateCreated[@encoding='w3cdtf']" label="mir.date.created" help-text="{i18n:mir.help.date.created}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.updated.datetimepicker">
    <mir:textfield xpath="mods:originInfo[@eventType='update']/mods:dateModified[@encoding='w3cdtf']" label="mir.date.updated" help-text="{i18n:mir.help.date.updated}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.range.created.datetimepicker">
    <mir:dateRange xpath="mods:originInfo[@eventType='creation']/mods:dateCreated[@encoding='w3cdtf']" label="mir.date.created" help-text="{i18n:mir.help.date.created.range}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.range.collected.datetimepicker">
    <mir:dateRange xpath="mods:originInfo[@eventType='collection']/mods:dateCaptured[@encoding='w3cdtf']" label="mir.date.collected"
      help-text="{i18n:mir.help.date.collected.range}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.range.reviewed.datetimepicker">
    <mir:dateRange xpath="mods:originInfo[@eventType='review']/mods:dateOther[@type='reviewed'][@encoding='w3cdtf']" label="mir.date.reviewed"
      help-text="{i18n:mir.help.date.reviewed.range}" class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.range.issued.datetimepicker">
    <mir:dateRange xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.issued.10" help-text="{i18n:mir.help.date.issued.10}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.onlyrange.issued.datetimepicker">
    <mir:dateRange xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" label="mir.date.issued.onlyRange" help-text="{i18n:mir.help.date.issued.onlyRange}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" onlyRange="true"/>
  </xed:template>

  <xed:template id="date.range.updated.datetimepicker">
    <mir:dateRange xpath="mods:originInfo[@eventType='update']/mods:dateModified[@encoding='w3cdtf']" label="mir.date.updated" help-text="{i18n:mir.help.date.updated}"
      class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="date.range.extended.datetimepicker">
    <fieldset class="dateExtended_box">
      <legend class="mir-fieldset-legend hiddenDetail">
        <div class="mir-form-group row datetimepicker {$xed-validation-marker}">
          <label class="col-md-3 col-form-label text-end form-label">
            <xed:output i18n="mir.date.issued.range" />
          </label>
          <div class="col-md-6 center-vertical">
            <mir:dateRangeInput xpath="mods:originInfo[@eventType='publication']/mods:dateIssued[@encoding='w3cdtf']" class="datetimepicker mainDate"
              placeholder="{i18n:mir.placeholder.date}" type="publication" startsWithDateTime="false" showDateTimeOption="false"/>
            <span class="fas fa-chevron-down expand-item" title="{i18n:mir.help.expand}" aria-hidden="true"></span>
          </div>
          <mir:help-pmud help-text="{i18n:mir.help.date.issued.10}" pmud="false" />
        </div>
      </legend>
      <div class="mir-fieldset-content dateExtended-container d-none">
        <mir:dateRange xpath="mods:originInfo[@eventType='creation']/mods:dateCreated[@encoding='w3cdtf']" help-text="{i18n:mir.help.date.created.range}"
          class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" label="mir.date.created.range" />
        <mir:dateRange xpath="mods:originInfo[@eventType='collection']/mods:dateCaptured[@encoding='w3cdtf']" help-text="{i18n:mir.help.date.collected.range}"
          class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" label="mir.date.collected.range" />
        <mir:dateRange xpath="mods:originInfo[@eventType='review']/mods:dateOther[@type='reviewed'][@encoding='w3cdtf']" help-text="{i18n:mir.help.date.reviewed.range}"
          class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" label="mir.date.reviewed.range" />
        <mir:dateRange xpath="mods:originInfo[@eventType='update']/mods:dateModified[@encoding='w3cdtf']" help-text="{i18n:mir.help.date.updated.range}"
          class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" label="mir.date.updated.range" />
        <mir:dateRange xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='accepted'][@encoding='w3cdtf']" help-text="{i18n:mir.help.date.accepted.range}"
          class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" label="mir.date.accepted.range" />
        <mir:dateRange xpath="mods:originInfo[@eventType='creation']/mods:dateOther[@type='submitted'][@encoding='w3cdtf']" help-text="{i18n:mir.help.date.submitted.range}"
          class="datetimepicker" placeholder="{i18n:mir.placeholder.date}" label="mir.date.submitted.range" />
      </div>
    </fieldset>
  </xed:template>

  <xed:template id="identifier.patent">
    <div class="mir-form-group row">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="mir.identifier.patent" />
      </label>
      <xed:repeat xpath="mods:identifier[@type='patent']" min="1" max="10">
        <div class="col-md-6">
          <div class="controls">
            <input type="text" size="30" class="form-control form-control-inline" />
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.identifier.patent}" pmud="true" />
      </xed:repeat>
    </div>
  </xed:template>

  <xed:template id="identifier.isbn">
    <mir:textfield xpath="mods:identifier[@type='isbn']" label="mir.identifier.isbn" />
  </xed:template>

  <xed:template id="identifier.isbn.book.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="book" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']" label="mir.identifier.isbn"
      help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.isbn.collection.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="collection" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']"
      label="mir.identifier.isbn" help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.isbn.festschrift.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="festschrift" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']"
      label="mir.identifier.isbn" help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.isbn.proceedings.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="proceeding" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']"
      label="mir.identifier.isbn" help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.isbn.journal.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="journal" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']" label="mir.identifier.isbn"
      help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.isbn.newspaper.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="newspaper" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']" label="mir.identifier.isbn"
      help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.isbn.lexicon.relItemsearch">
    <mir:relItemsearch searchengine="isbn" genre="lexicon" responsefield="identifier.type.isbn" xpath="mods:identifier[@type='isbn']" label="mir.identifier.isbn"
      help-text="{i18n:mir.help.identifier.isbn}" />
  </xed:template>

  <xed:template id="identifier.issn">
    <mir:textfield xpath="mods:identifier[@type='issn']" label="mir.identifier.issn" />
  </xed:template>

  <xed:template id="identifier.issn.series.relItemsearch">
    <mir:relItemsearch searchengine="issn" genre="series" responsefield="identifier.type.issn" xpath="mods:identifier[@type='issn']" label="mir.identifier.issn"
      help-text="{i18n:mir.help.identifier.issn}" />
  </xed:template>

  <xed:template id="identifier.issn.journal.relItemsearch">
    <mir:relItemsearch searchengine="issn" genre="journal" responsefield="identifier.type.issn" xpath="mods:identifier[@type='issn']" label="mir.identifier.issn"
      help-text="{i18n:mir.help.identifier.issn}" />
  </xed:template>

  <xed:template id="identifier.issn.newspaper.relItemsearch">
    <mir:relItemsearch searchengine="issn" genre="newspaper" responsefield="identifier.type.issn" xpath="mods:identifier[@type='issn']" label="mir.identifier.issn"
      help-text="{i18n:mir.help.identifier.issn}" />
  </xed:template>

  <xed:template id="identifier.zdbid">
    <mir:textfield xpath="mods:identifier[@type='zdbid']" label="mir.identifier.zdbid" help-text="{i18n:mir.help.identifier.zdbid}" />
  </xed:template>

  <!-- internal ID, still included in ID-Dropdown -->
  <!-- can be included if needed -->
  <!--
    <xed:template id="identifier.intern">
      <mir:textfield xpath="mods:identifier[@type='intern']" label="mir.identifier.intern" help-text="{i18n:mir.help.identifier.intern}" />
    </xed:template>
  -->

  <xed:template id="identifier.project">
    <mir:textfield xpath="mods:identifier[@type='project']" label="mir.identifier.project" help-text="{i18n:mir.help.identifier.project}" />
  </xed:template>

  <xed:template id="identifier.managed">
    <xed:if test="mods:identifierManaged">
      <xed:repeat xpath="mods:identifierManaged" min="0" max="10">
        <div class="mir-form-group row {$xed-validation-marker}">
          <label class="col-md-3 col-form-label text-end form-label">
            <xed:choose>
              <xed:when test="@type='doi'">
                <xed:output i18n="mir.identifier.doi" />
              </xed:when>
              <xed:when test="@type='urn'">
                <xed:output i18n="mir.identifier.urn" />
              </xed:when>
              <xed:otherwise>
                <xed:output value="$type" i18n="mir.identifier.other" />
              </xed:otherwise>
            </xed:choose>
          </label>
          <div class="col-md-6">
            <input type="text" size="20" class="form-control form-control-inline managedIdentifier" disabled="true"
                   value="{text()}" data-type="{@type}"/>
          </div>
          <div class="col-md-3"></div>
        </div>
      </xed:repeat>
    </xed:if>
  </xed:template>

  <xed:template id="identifier.repeated">
    <xed:repeat xpath="mods:identifier" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <div class="col-md-3" style="text-align:right; font-weight:bold;">
          <xed:bind xpath="@type" name="type">
            <select class="form-control identifierSelect form-select">
              <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:identifier" />
              <xed:load-resource name="identifier" uri="classification:metadata:-1:children:identifier" />
              <xed:if test="not($identifier//category[@ID=$type]) and not($type='')">
                <option value="{$type}" selected="">
                  <xed:output value="$type" i18n="mir.identifier.other" />
                </option>
              </xed:if>
            </select>
          </xed:bind>
        </div>
        <div class="col-md-6">
          <input type="text" size="30" class="form-control form-control-inline" />
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.identifier}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="doi.handle.urn.repeated">
    <xed:repeat xpath="mods:identifier[contains(' doi hdl urn ',concat(' ',@type,' '))]" min="1" max="10"
                method="clone">
      <div class="mir-form-group row">
        <xed:bind xpath="@type">
          <div class="col-md-3">
            <select class="form-control identifierSelect form-select" style="text-align:right; font-weight:bold;">
              <option value="doi">
                <xed:output i18n="mir.identifier.doi" />
              </option>
              <option value="hdl">
                <xed:output i18n="mir.identifier.hdl" />
              </option>
              <option value="urn">
                <xed:output i18n="mir.identifier.urn" />
              </option>
              <option value="uri">
                <xed:output i18n="mir.identifier.uri" />
              </option>
            </select>
          </div>
        </xed:bind>
        <div class="col-md-6">
          <input type="text" size="20" class="form-control form-control-inline {$xed-validation-marker}" />
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.doi.handle.urn}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="shelfmark">
    <mir:textfield xpath="mods:location/mods:shelfLocator" label="mir.shelfmark" />
  </xed:template>

  <xed:template id="shelfmark.journal.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="journal" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator" label="mir.shelfmark"
      help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <xed:template id="shelfmark.book.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="book" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator" label="mir.shelfmark"
      help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <xed:template id="shelfmark.collection.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="collection" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator" label="mir.shelfmark"
      help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <xed:template id="shelfmark.festschrift.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="festschrift" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator"
      label="mir.shelfmark" help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <xed:template id="shelfmark.lexicon.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="lexicon" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator" label="mir.shelfmark"
      help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <xed:template id="shelfmark.proceedings.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="proceedings" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator"
      label="mir.shelfmark" help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <xed:template id="shelfmark.proceedings.relItemsearch">
    <mir:relItemsearch searchengine="shelfmark" genre="collection" responsefield="shelfLocator" xpath="mods:location/mods:shelfLocator" label="mir.shelfmark"
      help-text="{i18n:mir.help.shelfmark}" />
  </xed:template>

  <!-- related.item.link.repeated -->
  <xed:template id="related.item.link">
    <xed:repeat xpath="mods:relatedItem[string-length(@xlink:href) = 0][@type = 'original' or @type = 'otherVersion' or @type = 'otherFormat']"
        min="1" max="10">
      <fieldset>
        <legend class="mir-fieldset-legend">
          <xed:output i18n="mir.link.title" />
        </legend>
        <div class="mir-fieldset-content">
          <div class="mir-form-group row">
            <div class="col-md-3">
              <xed:bind xpath="@type">
                <select class="form-control form-control-inline form-select" style="text-align: right; font-weight:bold;">
                  <option value="original">
                    <xed:output i18n="mir.relatedItem.original" />
                  </option>
                  <option value="otherVersion">
                    <xed:output i18n="mir.relatedItem.otherVersion" />
                  </option>
                  <option value="otherFormat">
                    <xed:output i18n="mir.relatedItem.otherFormat" />
                  </option>
                </select>
              </xed:bind>
            </div>
            <div class="col-md-6">
              <xed:bind xpath="mods:titleInfo/mods:title">
                <input type="text" class="form-control" placeholder="{i18n:mir.placeholder.title.link}" />
              </xed:bind>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.link.title}" pmud="true" />
          </div>
          <mir:textfield xpath="mods:location/mods:url[@access='raw object']" help-text="{i18n:mir.help.link.raw_object}" placeholder="{i18n:mir.placeholder.abstract.link}" />
        </div>
      </fieldset>
    </xed:repeat>
  </xed:template>

  <xed:template id="link">
    <mir:textfield xpath="mods:location/mods:url[@access='raw object']" label="mir.link.raw_object" help-text="{i18n:mir.help.link.raw_object}" />
  </xed:template>

  <xed:template id="link.repeated">
    <xed:repeat xpath="mods:location/mods:url" min="1" max="5">
      <div class="mir-form-group row">
        <div class="col-md-3">
          <xed:bind xpath="@access">
            <select class="form-control form-select" style="text-align:right; font-weight:bold;">
              <option value="">
                <xed:output i18n="mir.link" />
              </option>
              <option value="preview">
                <xed:output i18n="mir.link.preview" />
              </option>
              <option value="raw object">
                <xed:output i18n="mir.link.raw_object" />
              </option>
              <option value="object in context">
                <xed:output i18n="mir.link.object_in_context" />
              </option>
            </select>
          </xed:bind>
        </div>
        <div class="col-md-6">
          <input type="text" size="50" class="form-control form-control-inline {$xed-validation-marker}" />
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.link}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="blog_link">
    <mir:textfield xpath="mods:location/mods:url[@access='raw object']" label="mir.link.blog" help-text="{i18n:mir.help.link.blog}"
      class="required" required="true" required-i18n="mir.validation.link.blog" />
  </xed:template>

  <xed:template id="blog_entry_link">
    <mir:textfield xpath="mods:location/mods:url[@access='raw object']" label="mir.link.blog_entry" help-text="{i18n:mir.help.link.blog_entry}"
      class="required" required="true" required-i18n="mir.validation.link.blog_entry" />
  </xed:template>

  <xed:template id="blog_link.relItemsearch">
    <mir:relItemsearch searchengine="empty" genre="blog" responsefield="url.access.raw_object" xpath="mods:location/mods:url[@access='raw object']"
      label="mir.link.blog" help-text="{i18n:mir.help.link.blog}" />
  </xed:template>

  <xed:template id="creator">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:publisher" label="mir.creator" help-text="{i18n:mir.help.creator}"/>
  </xed:template>

  <xed:template id="creator.place">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:place/mods:placeTerm[@type='text']" label="mir.creatorplace" help-text="{i18n:mir.help.creatorplace}"/>
  </xed:template>

  <xed:template id="creator.college">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:publisher" label="mir.college" help-text="{i18n:mir.help.college}"
      class="required" required="true" required-i18n="mir.validation.college" placeholder="{i18n:mir.placeholder.college}"/>
  </xed:template>

  <xed:template id="creator.place.college">
    <mir:textfield xpath="mods:originInfo[@eventType='creation']/mods:place/mods:placeTerm[@type='text']" label="mir.collegeplace" help-text="{i18n:mir.help.collegeplace}"
      class="required" required="true" required-i18n="mir.validation.collegeplace" placeholder="{i18n:mir.placeholder.collegeplace}"/>
  </xed:template>

  <xed:template id="place">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:place/mods:placeTerm[@type='text']" label="mir.place" help-text="{i18n:mir.help.place}" />
  </xed:template>

  <xed:template id="country">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:place/mods:placeTerm[@type='text']" label="mir.place.country" help-text="{i18n:mir.help.place.country}" />
  </xed:template>

  <xed:template id="publisher">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:publisher" label="mir.publisher" help-text="{i18n:mir.help.publisher}" />
  </xed:template>

  <xed:template id="station">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:publisher" label="mir.publisher.station" help-text="{i18n:mir.help.publisher.station}" />
  </xed:template>

  <xed:template id="edition">
    <mir:textfield xpath="mods:originInfo[@eventType='publication']/mods:edition" label="mir.edition" help-text="{i18n:mir.help.edition}"
      placeholder="{i18n:mir.placeholder.edition}" />
  </xed:template>

  <xed:template id="extent">
    <mir:textfield xpath="mods:physicalDescription/mods:extent" label="mir.extent" help-text="{i18n:mir.help.extent}" placeholder="{i18n:mir.placeholder.extent}" />
  </xed:template>

  <xed:template id="extent.required">
    <mir:textfield xpath="mods:physicalDescription/mods:extent" label="mir.extent" help-text="{i18n:mir.help.extent}" placeholder="{i18n:mir.placeholder.extent}"
      class="required" required="true" required-i18n="mir.validation.extent" />
  </xed:template>

  <xed:template id="physical.description.note">
    <mir:textarea xpath="mods:physicalDescription/mods:note" label="mir.physical.description.note" help-text="{i18n:mir.help.physical.description.note}"
      rows="5" />
  </xed:template>

  <xed:template id="physical.description.form">
    <xed:load-resource name="mir_filetype" uri="classification:metadata:-1:children:mir_filetype" />
    <xed:bind xpath="mods:physicalDescription/mods:form[@type='file'][@authorityURI=$mir_filetype/label[@xml:lang='x-uri']/@text]/@valueURIxEditor">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.physical.description.form" />
        </label>
        <div class="col-md-6">
          <select class="form-control form-control-inline form-select">
            <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:mir_filetype" />
          </select>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.physical.description.form}" />
      </div>
    </xed:bind>
  </xed:template>

  <xed:template id="series.volume">
    <mir:textfield xpath="mods:part/mods:detail[@type='volume']/mods:number" label="mir.series.volume" help-text="{i18n:mir.help.series.volume}"
      placeholder="{i18n:mir.placeholder.series.volume}" class="mir-modspart" />
  </xed:template>

  <xed:template id="host.volume">
    <mir:textfield xpath="mods:part/mods:detail[@type='volume']/mods:number" label="mir.volume" help-text="{i18n:mir.help.volume}" class="mir-modspart" />
  </xed:template>

  <xed:template id="host.volume.required">
    <mir:textfield xpath="mods:part/mods:detail[@type='volume']/mods:number" label="mir.volume" help-text="{i18n:mir.help.volume}" class="required mir-modspart"
      required="true" required-i18n="mir.validation.host.volume" />
  </xed:template>

  <xed:template id="host.issue">
    <mir:textfield xpath="mods:part/mods:detail[@type='issue']/mods:number" label="mir.issue" help-text="{i18n:mir.help.issue}" class="mir-modspart" />
  </xed:template>

  <xed:template id="host.issue.required">
    <mir:textfield xpath="mods:part/mods:detail[@type='issue']/mods:number" label="mir.issue" help-text="{i18n:mir.help.issue}" class="mir-modspart required"
      required="true" required-i18n="mir.validation.host.issue" />
  </xed:template>

  <xed:template id="host.articlenumber">
    <mir:textfield xpath="mods:part/mods:detail[@type='article_number']/mods:number" label="mir.articlenumber" help-text="{i18n:mir.help.articlenumber}" class="mir-modspart" />
  </xed:template>

  <xed:template id="host.pages">
    <div class="mir-form-group row mir-modspart">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="mir.pages" />:
      </label>
      <div class="col-md-6">
        <div class="form-inline">
          <xed:bind xpath="mods:part/mods:extent[@unit='pages']/mods:list">
            <input type="text" size="20" class="form-control form-control-inline" />
          </xed:bind>
        </div>
      </div>
      <mir:help-pmud help-text="{i18n:mir.help.host.pages}" />
    </div>
  </xed:template>

  <xed:template id="host.order">
    <div class="mir-form-group row mir-modspart">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="mir.order" />:
      </label>
      <div class="col-md-6">
        <div class="form-inline">
          <xed:bind xpath="mods:part/@order">
            <input type="text" size="20" class="form-control form-control-inline {$xed-validation-marker}" />
          </xed:bind>
        </div>
      </div>
      <mir:help-pmud help-text="{i18n:mir.help.host.order}" />
    </div>
  </xed:template>

  <xed:template id="host.lecture.semester">
    <mir:textfield xpath="mods:part/mods:detail[@type='volume']/mods:number" label="mir.lecture.semester" help-text="{i18n:mir.help.issue}" class="mir-modspart" />
  </xed:template>

  <xed:template id="host.lecture.number">
    <mir:textfield xpath="mods:part/mods:detail[@type='issue']/mods:number" label="mir.lecture.number" help-text="{i18n:mir.help.volume}" class="mir-modspart" />
  </xed:template>

  <xed:template id="language">
    <xed:repeat xpath="mods:language" max="5">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.language" />
        </label>
        <div class="col-md-6">
          <xed:bind xpath="mods:languageTerm[@authority='rfc5646'][@type='code']" initially="de">
            <div class="controls">
              <xed:include ref="lang.list" />
            </div>
          </xed:bind>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.language}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="lang.list">
    <select class="form-control form-control-inline lang-select form-select" data-dlang="{$MCR.Metadata.DefaultLang}" data-langs="{$MCR.Metadata.Languages}">
      <xed:choose>
        <xed:when test="string-length(.) &gt; 0">
          <option value="{.}" selected="">
            <xed:output value="." />
          </option>
        </xed:when>
        <xed:otherwise>
          <option value="{$MCR.Metadata.DefaultLang}" selected="">
            <xed:output value="{$MCR.Metadata.DefaultLang}" />
          </option>
        </xed:otherwise>
      </xed:choose>
    </select>
  </xed:template>

<!-- fix XEditor crash -->
<!--   <xed:template id="lang.list.addon"> -->
<!--     <select class="form-control form-control-inline input-group-addon form-select"> -->
<!--       <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:rfc5646" /> -->
<!--     </select> -->
<!--   </xed:template> -->

  <xed:template id="type.of.resource">
    <xed:bind xpath="mods:typeOfResource/@mcr:categId" initially="typeOfResource:text">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.typeOfResource" />
        </label>
        <div class="col-md-6">
          <div class="controls">
            <select class="form-control form-control-inline form-select">
              <xed:include uri="xslStyle:items2options#xslt:classification:editorComplete:1:children:typeOfResource" />
            </select>
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.typeOfResource}" />
      </div>
    </xed:bind>
  </xed:template>

  <xed:template id="type.of.resource.repeated">
    <xed:repeat xpath="mods:typeOfResource" min="1" max="10">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.typeOfResource" />
        </label>
        <div class="col-md-6">
          <div class="controls">
            <xed:bind xpath="@mcr:categId">
              <select class="form-control form-control-inline form-select">
                <xed:include uri="xslStyle:items2options#xslt:classification:editorComplete:1:children:typeOfResource"
                />
              </select>
            </xed:bind>
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.typeOfResource}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>

  <xed:template id="type.of.resource.moving_image">
    <xed:bind xpath="mods:typeOfResource/@mcr:categId">
      <input type="hidden" value="typeOfResource:moving_image" />
    </xed:bind>
  </xed:template>

  <xed:template id="type.of.resource.still_image">
    <xed:bind xpath="mods:typeOfResource/@mcr:categId">
      <input type="hidden" value="typeOfResource:still_image" />
    </xed:bind>
  </xed:template>

  <xed:template id="type.of.resource.sound_recording">
    <xed:bind xpath="mods:typeOfResource/@mcr:categId">
      <input type="hidden" value="typeOfResource:sound_recording" />
    </xed:bind>
  </xed:template>

  <xed:template id="rights">
    <xed:bind xpath="mods:accessCondition[@type='use and reproduction']" initially="">
      <div class="mir-form-group row required {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.rights" />
          :
        </label>
        <div class="col-md-6">
          <select class="form-control form-control-inline form-select">
            <option value="">
              <xed:output i18n="mir.select" />
            </option>
            <xed:include uri="xslStyle:license-filter,items2options?genre={$genre_intern}#xslt:classification:editor:-1:children:mir_licenses" />
          </select>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.rights}" />
      </div>
    </xed:bind>
  </xed:template>

  <xed:template id="access">
    <xed:bind xpath="mods:accessCondition[@type='restriction on access'][contains(@xlink:href,'mir_access')]" initially="">
      <xed:load-resource name="mir_access" uri="classification:metadata:-1:children:mir_access" />
      <xed:bind xpath="@xlink:href" initially="{$mir_access/label[@xml:lang='x-uri']/@text}" />
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.access" />
          :
        </label>
        <div class="col-md-6">
          <select class="form-control form-control-inline form-select">
            <option value="">
              <xed:output i18n="mir.select.optional" />
            </option>
            <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:mir_access" />
          </select>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.access}" />
      </div>
    </xed:bind>
  </xed:template>

  <xed:template id="embargo">
    <mir:textfield xpath="mods:accessCondition[@type='embargo']" label="mir.embargo" help-text="{i18n:mir.help.embargo}" placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <xed:template id="embargo.datetimepicker">
    <mir:textfield xpath="mods:accessCondition[@type='embargo']" label="mir.embargo" help-text="{i18n:mir.help.embargo}" class="datetimepicker"
      placeholder="{i18n:mir.placeholder.date}" />
  </xed:template>

  <!-- use external schema copyrightMD, see https://www.cdlib.org/groups/rmg/copyrightMD.html#type_copyright.status -->
  <!-- TODO: copyright.status and publication.status shouldn't be static -->
  <xed:template id="copyrightMD">
    <xed:bind
      xpath="mods:accessCondition[@type='copyrightMD']/cmd:copyright[@copyright.status='copyrighted'][@publication.status='published'][@xsi:schemaLocation='http://www.cdlib.org/inside/diglib/copyrightMD https://www.cdlib.org/groups/rmg/docs/copyrightMD.xsd']"
    >
      <mir:textfield xpath="cmd:rights.holder/cmd:name" label="mir.rightsHolder" help-text="{i18n:mir.help.rightsHolder}" />
    </xed:bind>
  </xed:template>

  <xed:template id="institutes">
    <div class="mir-form-group row">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="mir.institution" />
        :
      </label>
      <div class="col-md-6">
        <xed:load-resource name="mir_institutes" uri="classification:metadata:-1:children:mir_institutes" />
        <xed:bind xpath="mods:name[@type='corporate'][@authorityURI=$mir_institutes/label[@xml:lang='x-uri']/@text]">
          <xed:bind xpath="mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']" initially="his" /><!--  Host institution [his] -->
          <xed:bind xpath="@valueURIxEditor">
            <select class="form-control form-control-inline mir-form__js-select--large form-select">
              <option value="">
                <xed:output i18n="mir.select.optional" />
              </option>
              <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:mir_institutes" />
            </select>
          </xed:bind>
        </xed:bind>
      </div>
      <mir:help-pmud help-text="{i18n:mir.help.institutes}" />
    </div>
  </xed:template>

  <xed:template id="institutes.repeat">
    <mir:insitut.repeated min="1" max="10" label="mir.institution" help-text="{i18n:mir.help.institutes}" />
  </xed:template>

  <xed:template id="publisher.organization">
    <div class="mir-form-group row">
      <label class="col-md-3 col-form-label text-end form-label">
        <xed:output i18n="mir.publisherOrganization" />
        :
      </label>
      <div class="col-md-6">
        <xed:bind xpath="mods:name[@type='corporate'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='pbl']"><!--  Publisher [pbl]  -->
          <div class="search-organization">
            <xed:bind xpath="@type" initially="corporate">
              <input type="hidden" class="nameType" />
            </xed:bind>
            <xed:bind xpath="mods:displayForm">
              <input type="text" size="26" class="form-control form-control-inline" data-search="searchEntity" data-search-type="select"
                data-search-entity-type="organisation" data-search-output=".nameIdentifier" data-search-output-type=".nameIdentifierType" data-search-output-name-type=".nameType" data-search-button="{i18n:button.search}"
                data-search-button-loading="{i18n:button.loading}" data-search-result-empty="{i18n:mir.searchIdentifier.noResult}" data-target=".search-organization"
                placeholder="{i18n:mir.placeholder.name.organization}" />
            </xed:bind>
            <xed:bind xpath="mods:nameIdentifier">
              <input type="hidden" class="nameIdentifier" />
            </xed:bind>
            <xed:bind xpath="mods:nameIdentifier/@type">
              <input type="hidden" class="nameIdentifierType" />
            </xed:bind>
          </div>
        </xed:bind>
      </div>
      <mir:help-pmud help-text="{i18n:mir.help.editor.organization}" />
    </div>
  </xed:template>

  <xed:template id="publisher.organization.repeat">
    <xed:repeat xpath="mods:name[@type='corporate'][mods:role/mods:roleTerm[@authority='marcrelator'][@type='code']='pbl']"><!--  Publisher [pbl]  -->
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.publisherOrganization" />
          :
        </label>
        <div class="col-md-6">
          <div class="search-organization">
            <xed:bind xpath="@type" initially="corporate">
              <input type="hidden" class="nameType" />
            </xed:bind>
            <xed:bind xpath="mods:displayForm">
              <input type="text" size="26" class="form-control form-control-inline" data-search="searchEntity" data-search-type="select"
                data-search-entity-type="organisation" data-search-output=".nameIdentifier" data-search-output-type=".nameIdentifierType" data-search-output-name-type=".nameType" data-search-button="{i18n:button.search}"
                data-search-button-loading="{i18n:button.loading}" data-search-result-empty="{i18n:mir.searchIdentifier.noResult}" data-target=".search-organization"
                placeholder="{i18n:mir.placeholder.name.organization}" />
            </xed:bind>
            <xed:bind xpath="mods:nameIdentifier">
              <input type="hidden" class="nameIdentifier" />
            </xed:bind>
            <xed:bind xpath="mods:nameIdentifier/@type">
              <input type="hidden" class="nameIdentifierType" />
            </xed:bind>
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.editor.organization}" pmud="true" />
      </div>
    </xed:repeat>
  </xed:template>





  <xed:template id="sdnb">
    <xed:bind xpath="mods:classification[@authority='sdnb'][@displayLabel='sdnb']">
      <div class="mir-form-group row required {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="editor.search.mir.sdnb" />
          :
        </label>
        <div class="col-md-6">
          <select class="form-control form-control-inline mir-form__js-select--large form-select">
            <option value="">
              <xed:output i18n="mir.select" />
            </option>
            <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:SDNB" />
          </select>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.sdnb}" />
      </div>
    </xed:bind>
    <xed:validate xpath="//mods:mods/mods:classification[@authority='sdnb'][@displayLabel='sdnb']" required="true" i18n="mir.validation.sdnb"
      display="global" />
  </xed:template>

  <xed:template id="sdnb.repeat">
    <xed:repeat xpath="mods:classification[@authority='sdnb'][@displayLabel='sdnb']" min="1" max="10" method="build">
      <div class="mir-form-group row required {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="editor.search.mir.sdnb" />
          :
        </label>
        <div class="col-md-6">
          <select class="form-control form-control-inline mir-form__js-select--large form-select">
            <option value="">
              <xed:output i18n="mir.select" />
            </option>
            <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:SDNB" />
          </select>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.sdnb}" pmud="true" />
      </div>
    </xed:repeat>
    <xed:validate xpath="//mods:mods/mods:classification[@authority='sdnb'][@displayLabel='sdnb']" required="true" i18n="mir.validation.sdnb"
      display="global" />
  </xed:template>

  <xed:template id="abstract.simple">
    <mir:htmlArea xpath="mods:abstract[not(@xml:lang) or @xml:lang=../mods:language/mods:languageTerm[@authority='rfc5646' and @type='code']]"
      label="mir.abstract.text" help-text="{i18n:mir.help.abstract}" rows="5" />
  </xed:template>

  <xed:template id="abstract.simple.uri">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.abstract.text" />
      </legend>
      <div class="mir-fieldset-content">
        <mir:textarea xpath="mods:abstract[not(@xml:lang) or @xml:lang=../mods:languageTerm[@authority='rfc5646'][@type='code']]" label="mir.abstract.text"
          rows="5" />
        <mir:textfield xpath="@xlink:href" label="mir.abstract.aslink" placeholder="{i18n:mir.placeholder.abstract.link}" />
      </div>
    </fieldset>
  </xed:template>

  <xed:template id="abstract.translated">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.abstract.translated" />
      </legend>
      <xed:repeat xpath="mods:abstract[@xml:lang]" min="1" max="3">
        <div class="mir-fieldset-content">
          <div class="mir-form-group row">
            <label class="col-md-3 col-form-label text-end form-label">
              <xed:output i18n="mir.abstract.in" />
            </label>
            <div class="col-md-6">
              <xed:bind xpath="@xml:lang">
                <xed:include ref="lang.list" />
              </xed:bind>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.abstract.language}" pmud="true" />
          </div>
          <mir:textfield xpath="@xlink:href" label="mir.abstract.aslink" placeholder="{i18n:mir.placeholder.abstract.link}" />
          <mir:textarea xpath="." label="mir.abstract.ortext" rows="5" />
        </div>
      </xed:repeat>
    </fieldset>
  </xed:template>

  <xed:template id="abstract.repeated">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.abstract.text" />
      </legend>
      <xed:repeat xpath="mods:abstract" min="1" max="3">
        <div class="mir-fieldset-content">
          <div class="mir-form-group row">
            <label class="col-md-3 col-form-label text-end form-label">
              <xed:output i18n="mir.abstract.in" />
            </label>
            <div class="col-md-6">
              <xed:bind xpath="@xml:lang" initially="de">
                <xed:include ref="lang.list" />
              </xed:bind>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.abstract.language}" pmud="true" />
          </div>
          <mir:textfield xpath="@xlink:href" label="mir.abstract.aslink" help-text="{i18n:mir.help.abstract.aslink}" placeholder="{i18n:mir.placeholder.abstract.link}" />
          <mir:htmlArea xpath="." label="mir.abstract.ortext" help-text="{i18n:mir.help.abstract.ortext}" rows="5" />
        </div>
      </xed:repeat>
    </fieldset>
  </xed:template>

  <!-- TODO: check template for usage!
  <xed:template id="subject.genre">
    <mir:textfield repeat="true" xpath="mods:subject/mods:genre" min="1" max="10" label="mir.subject.genre" help-text="{i18n:mir.help.subject.genre}" />
  </xed:template>
  -->
  <xed:template id="geographicAndCartographics">
    <xed:repeat xpath="mods:subjectGEO" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.geographic" />
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="Geographic" data-editor="Geographic,Cartographic" data-search-filter-default="Geographic" data-admin="geographicPair" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.cartographics.place}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.geographic" />
    </xed:repeat>
  </xed:template>

  <xed:template id="geographic">
    <xed:repeat xpath="mods:subjectGEO" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.geographic" />
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="Geographic" data-editor="Geographic" data-search-filter-default="Geographic" data-admin="false" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.cartographics.place}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.geographic" />
    </xed:repeat>
  </xed:template>

  <xed:template id="geographic.complex">
    <xed:repeat xpath="mods:subjectGEO" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.geographic" />
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="Geographic" data-editor="Geographic" data-search-filter-default="Geographic" data-admin="false" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.cartographics.place}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.geographic" />
    </xed:repeat>
  </xed:template>

  <xed:template id="cartographics">
    <xed:bind xpath="mods:subjectGEO">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.cartographics.coordinates" />
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="" data-editor="Cartographics" data-search-filter-default="" data-admin="false" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.cartographics.coordinates}" pmud="false"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.geographic" />
    </xed:bind>
  </xed:template>

  <xed:template id="cartographics.repeat">
    <xed:repeat xpath="mods:subjectGEO" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.cartographics.coordinates" />
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="" data-editor="Cartographics" data-search-filter-default="" data-admin="false" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.cartographics.coordinates}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.geographic" />
    </xed:repeat>
  </xed:template>

  <xed:template id="subject.simple">
    <xed:repeat xpath="mods:subjectXML" min="1" max="{$MIR.Editor.repeat.max.subject.simple}">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.subject.topic"/>
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="*" data-editor="*" data-search-filter-default="Topic" data-admin="false" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.subject.topic}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.simple" />
    </xed:repeat>
  </xed:template>

  <xed:template id="subject.simple.required">
    <xed:repeat xpath="mods:subjectXML" min="1" max="{$MIR.Editor.repeat.max.subject.simple.required}">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.subject.topic"/>
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="*" data-editor="*" data-search-filter-default="Topic" data-admin="false" data-required="true"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.subject.topic}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubjectRequired" display="global" i18n="mir.validation.subject.simple.required" />
    </xed:repeat>
  </xed:template>

  <xed:template id="subject.complex.required">
    <xed:repeat xpath="mods:subjectXML" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.subject.topic.complex "/>
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="*" data-editor="*" data-search-filter-default="*" data-admin="true" data-required="true"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.subject.topic.complex}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.admin" />
    </xed:repeat>
  </xed:template>

  <xed:template id="subject.complex">
    <xed:repeat xpath="mods:subjectXML" min="1" max="10">
      <div class="mir-form-group row {$xed-validation-marker}">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.subject.topic.complex"/>
        </label>
        <div class="col-md-6">
          <input type="hidden" class="subjectXML"/>
          <div class="editorToolsApp" data-searchable="*" data-editor="*" data-search-filter-default="*" data-admin="true" data-required="false"> </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.subject.topic.complex}" pmud="true"/>
      </div>
      <xed:validate class="org.mycore.mir.validation.MIRValidationHelper" method="validateSubject" display="global" i18n="mir.validation.subject.admin" />
    </xed:repeat>
  </xed:template>


  <xed:template id="classification">
    <xed:repeat xpath="mods:classification[@generator='user selected']" min="1" max="10">
      <div class="mir-form-group row">
        <label class="col-md-3 col-form-label text-end form-label">
          <xed:output i18n="mir.classification" />
        </label>
        <div class="col-md-6">
          <div class="form-inline">
            <input type="button" class="form-control mir-classification-select" value="{i18n:mir.classification.select}" />
            <xed:bind xpath="@displayLabel">
              <input type="hidden" />
            </xed:bind>
            <xed:bind xpath="@mcr:categId">
              <input type="hidden" />
            </xed:bind>
            <span class="mir-span"></span>
          </div>
        </div>
        <mir:help-pmud help-text="{i18n:mir.help.classification}" pmud="true" />
      </div>
    </xed:repeat>
    <script type="text/javascript" src="{$WebApplicationBaseURL}js/mir/classification-modal-select.min.js"></script>
  </xed:template>

  <xed:template id="modal.body">
    <div id="modalFrame" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg modal-xl" role="document">
        <div class="modal-content">

          <div class="modal-header">
            <h4 id="modalFrame-title" class="modal-title">Modal title</h4>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" />
          </div>
          <div class="modal-body">
            <div id="modal-searchInput" class="d-flex flex-row-reverse mb-2">
              <button class="btn btn-primary">
                <span class="fas fa-search form-control-feedback" />
              </button>
              <input type="text" placeholder="Suche in den Publikationen" class="form-control" autocomplete="off"/>
            </div>
            <div class="container-fluid">
              <div id="modalFrame-body" class="row">
              </div>
            </div>
          </div>

          <div class="modal-footer">
            <div class="container-fluid">
              <div class="row">
                <div class="col-12 already-linked d-none">
                  <div class="alert alert-warning">
                    <xed:output i18n="mir.relatedItem.alreadyLinked" />
                  </div>
                </div>
                <div class="col-md-8 text-end mt-2 mt-md-0">
                  <button id="modalFrame-cancel" type="button" class="btn btn-danger me-0 ms-1" data-bs-dismiss="modal"></button>
                  <button id="modalFrame-send" type="button" class="btn btn-primary me-0 ms-1">
                    <xed:output i18n="button.select"/>
                  </button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </xed:template>

  <xed:template id="modal.name">
    <div class="modal fade name-modal" tabindex="-1" role="dialog" aria-labelledby="modal frame" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <textarea name="" rows="10" cols="76"></textarea>
          </div>
        </div>
      </div>
    </div>
  </xed:template>

  <!-- TODO outdated -->
  <xed:template id="openAIRE">
    <fieldset id="open-aire_box">
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.project.information" />
      </legend>
      <div class="mir-fieldset-content mir-openAIRE-container">
        <mir:textfield.nobind id="name" label="mir.project.name" help-text="{i18n:mir.help.project.name}" autocomplete="off" />
        <mir:textfield.nobind id="acronym" label="mir.project.acronym" help-text="{i18n:mir.help.project.acronym}" autocomplete="off" />
        <div class="mir-form-group row">
          <label class="col-md-3 col-form-label text-end form-label" />
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-4">
                <input type="text" class="form-control inputWarning" name="" placeholder="{i18n:mir.project.grantID}" />
              </div>
              <div class="col-md-4">
                <input type="text" class="form-control inputWarning" name="" placeholder="{i18n:mir.project.sponsor.programmID}" />
              </div>
              <div class="col-md-4">
                <input type="text" class="form-control inputWarning" name="" placeholder="{i18n:mir.project.sponsor.organisationID}" />
              </div>
            </div>
          </div>
          <mir:help-pmud help-text="{i18n:mir.help.project.grant}" pmud="false" />
        </div>
        <xed:bind xpath="mods:openAireID">
          <input type="hidden" />
        </xed:bind>
      </div>
    </fieldset>
    <script type="text/javascript" src="{$WebApplicationBaseURL}js/mir/openaire.min.js" />
  </xed:template>

  <xed:template id="project.repeated">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.editor.project"/>
      </legend>
      <xed:bind xpath="mods:extension[@type='datacite-funding']/datacite:fundingReferences" xmlns:datacite="http://datacite.org/schema/kernel-4">
        <xed:repeat xpath="datacite:fundingReference">
          <div class="mir-fieldset-content mir-editor-project-container">
            <div class="mir-form-group row">
              <label class="col-md-3 col-form-label text-end form-label">
                <xed:output i18n="mir.editor.project.title"/>
              </label>
              <xed:bind xpath="datacite:awardTitle">
                <div class="col-md-6 {$xed-validation-marker}">
                  <input type="text" class="form-control project-title" autocomplete="off"/>
                  <xed:validate relevant-if="string-length(../datacite:awardNumber)&gt;0" required="true"
                    i18n="mir.editor.project.title.validation" display="global"/>
                </div>
              </xed:bind>
              <mir:help-pmud help-text="{i18n:mir.editor.project.title.help}" pmud="true"/>
            </div>
            <div class="mir-form-group row">
              <label class="col-md-3 col-form-label text-end form-label">
                <xed:output i18n="mir.editor.project.id"/>
              </label>
              <div class="col-md-6">
                <xed:bind xpath="datacite:awardNumber">
                  <div class="row">
                    <div class="col-md-4">
                      <input type="text" class="form-control project-id"/>
                    </div>
                    <div class="col-md-8 ps-0">
                      <xed:bind xpath="@awardURI">
                        <input type="text" class="form-control project-uri" placeholder="{i18n:mir.editor.project.uri}"/>
                      </xed:bind>
                    </div>
                  </div>
                </xed:bind>
              </div>
              <mir:help-pmud help-text="{i18n:mir.editor.project.id.help}"/>
            </div>
            <div class="mir-form-group row">
              <label class="col-md-3 col-form-label text-end form-label">
                <xed:output i18n="mir.editor.project.funder.name"/>
              </label>
              <xed:bind xpath="datacite:funderName">
                <div class="col-md-6 {$xed-validation-marker}">
                  <input type="text" class="form-control funder-name" autocomplete="off"/>
                  <xed:validate relevant-if="string-length(../datacite:awardNumber)&gt;0 or string-length(../datacite:awardNumber/@awardURI)&gt;0 or string-length(../datacite:awardTitle)&gt;0 or string-length(../datacite:funderIdentifier)&gt;0"
                    required="true" i18n="mir.editor.project.funder.name.validation" display="global"/>
                </div>
              </xed:bind>
              <mir:help-pmud help-text="{i18n:mir.editor.project.funder.name.help}"/>
            </div>
            <div class="mir-form-group row">
              <label class="col-md-3 col-form-label text-end form-label">
                <xed:output i18n="mir.editor.project.funder.id"/>
              </label>
              <xed:bind xpath="datacite:funderIdentifier">
                <div class="col-md-6">
                  <div class="row">
                    <xed:bind xpath="@funderIdentifierType">
                      <div class="col-md-4 {$xed-validation-marker}">
                        <select class="form-control form-control-inline form-select funder-id-type">
                          <option value="">
                            <xed:output i18n="mir.select"/>
                          </option>
                          <option value="Crossref Funder ID">
                            <xed:output i18n="mir.editor.project.funder.id.crossref"/>
                          </option>
                          <option value="GRID">
                            <xed:output i18n="mir.editor.project.funder.id.grid"/>
                          </option>
                          <option value="ISNI">
                            <xed:output i18n="mir.editor.project.funder.id.isni"/>
                          </option>
                          <option value="ROR">
                            <xed:output i18n="mir.editor.project.funder.id.ror"/>
                          </option>
                          <option value="Other">
                            <xed:output i18n="mir.editor.project.funder.id.other"/>
                          </option>
                        </select>
                        <xed:validate relevant-if="string-length(..)&gt;0" required="true"
                          i18n="mir.editor.project.funder.id.validation" display="global"/>
                      </div>
                    </xed:bind>
                    <div class="col-md-8 ps-0 {$xed-validation-marker}">
                      <input type="text" class="form-control funder-id-value" />
                      <xed:validate relevant-if="string-length(@funderIdentifierType)&gt;0" required="true"
                        i18n="mir.editor.project.funder.id.validation" display="global"/>
                    </div>
                  </div>
                </div>
              </xed:bind>
              <mir:help-pmud help-text="{i18n:mir.editor.project.funder.id.help}"/>
            </div>
          </div>
        </xed:repeat>
      </xed:bind>
    </fieldset>
    <script type="module" src="{$WebApplicationBaseURL}js/mir/editor-project.js"/>
  </xed:template>

  <xed:template id="comment">
    <mir:textarea xpath="mods:note[@type='admin']" label="mir.comment" help-text="{i18n:mir.help.comment}" rows="2" />
  </xed:template>

  <xed:template id="comment.complex">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.comment" />
      </legend>
      <xed:repeat xpath="mods:note" min="1" max="5">
        <div class="mir-fieldset-content">
          <div class="mir-form-group row">
            <label class="col-md-3 col-form-label text-end form-label">
              <xed:output i18n="mir.comment.type" />
            </label>
            <div class="col-md-6">
              <xed:bind xpath="@type">
                <select class="form-control form-select">
                    <option value="">
                      <xed:output i18n="mir.select"/>
                    </option>
                    <xed:include uri="xslStyle:items2options,fix-classification-options#xslt:classification:editor:-1:children:noteTypes" />
                </select>
              </xed:bind >
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.comment.type}" pmud="true" />
          </div>
          <mir:textarea xpath="." label="mir.comment" help-text="{i18n:mir.help.comment}" rows="3" />
        </div>
      </xed:repeat>
    </fieldset>
  </xed:template>

  //finds all documents, even if they are not published yet
  <xed:template id="related.item.search.of.all.items">
    <fieldset>
      <legend class="mir-fieldset-legend">Related Item</legend><!-- TODO: i18n -->
      <xed:repeat xpath="mods:relatedItem[not(@otherType)]" min="1" max="10">
        <div class="mir-fieldset-content mir-related-item-search">
          <div class="mir-form-group row">
            <div class="col-md-3">
              <xed:bind xpath="@type">
                <select class="form-control form-select">
                  <option value="host">
                    <xed:output i18n="mir.relatedItem.host" />
                  </option>
                  <option value="series">
                    <xed:output i18n="mir.relatedItem.series" />
                  </option>
                  <option value="preceding">
                    <xed:output i18n="mir.relatedItem.preceding" />
                  </option>
                  <option value="original">
                    <xed:output i18n="mir.relatedItem.original" />
                  </option>
                  <option value="isReferencedBy">
                    <xed:output i18n="mir.relatedItem.isReferencedBy" />
                  </option>
                  <option value="references">
                    <xed:output i18n="mir.relatedItem.references" />
                  </option>
                  <option value="reviewOf">
                    <xed:output i18n="mir.relatedItem.reviewOf" />
                  </option>
                  <option value="otherVersion">
                    <xed:output i18n="mir.relatedItem.otherVersion" />
                  </option>
                  <option value="otherFormat">
                    <xed:output i18n="mir.relatedItem.otherFormat" />
                  </option>
                </select>
              </xed:bind>
            </div>
            <div class="col-md-6">
              <div class="controls form-inline">
                <input type="button" class="form-control mir-relatedItem-select" data-fq="-id:{$id}" value="{i18n:mir.editing.related.select}" />
                <span />
                <xed:bind xpath="@xlink:href">
                  <input type="hidden" />
                </xed:bind>
              </div>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.related.item}" pmud="true" />
          </div>
          <xed:include ref="title.nonrequired" />
          <xed:include ref="genre.simple.nonrequired" />
          <mir:textfield xpath="mods:location/mods:url[@access='raw object']" help-text="{i18n:mir.help.link.raw_object}"
              placeholder="{i18n:mir.placeholder.abstract.link}" />
          <xed:include ref="host.volume" />
          <xed:include ref="host.issue" />
          <xed:include ref="host.articlenumber" />
          <xed:include ref="host.pages" />
          <xed:include ref="host.order" />
        </div>
      </xed:repeat>
      <script src="{$WebApplicationBaseURL}js/mir/relatedItem-modal.min.js" type="text/javascript"></script>
      <xed:validate xpath="//mods:relatedItem[@xlink:href!='']" test="(@type!='isReferencedBy')" i18n="mir.validation.relatedItem" display="global" />
    </fieldset>
  </xed:template>

  <xed:template id="related.item.other.search.of.all.items">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="mir.relatedItem.others" />
      </legend>
      <xed:repeat xpath="mods:relatedItem[@otherType]" min="1" max="10">
        <div class="mir-fieldset-content mir-related-item-search">
          <div class="mir-form-group row">
            <div class="col-md-3">
              <xed:bind xpath="@otherType">
                <select class="form-control form-select">
                  <xed:include uri="xslStyle:items2options#xslt:classification:editor:-1:children:mir_relateditem" />
                </select>
              </xed:bind>
            </div>
            <div class="col-md-6">
              <div class="controls form-inline">
                <input type="button" class="form-control mir-relatedItem-select" data-fq="-id:{$id}" value="{i18n:mir.editing.related.select}" />
                <span />
                <xed:bind xpath="@xlink:href">
                  <input type="hidden" />
                </xed:bind>
              </div>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.related.item}" pmud="true" /> <!-- TODO -->
          </div>
        </div>
      </xed:repeat>
      <script src="{$WebApplicationBaseURL}js/mir/relatedItem-modal.min.js" type="text/javascript"></script>
    </fieldset>
  </xed:template>

  <xed:template id="extension.characteristics">
    <fieldset>
      <legend class="mir-fieldset-legend">
        <xed:output i18n="component.mods.metaData.dictionary.characteristics" />
      </legend>
      <div class="mir-fieldset-content">
        <div class="mir-form-group row">
          <label class="col-md-2 offset-md-3 col-form-label text-end form-label">
            <xed:output i18n="component.mods.metaData.dictionary.year" />
          </label>
          <label class="col-md-2 col-form-label text-end form-label">
            <xed:output i18n="component.mods.metaData.dictionary.impact" />
          </label>
          <label class="col-md-2 col-form-label text-end form-label">
            <xed:output i18n="component.mods.metaData.dictionary.refereed" />
          </label>
          <xed:repeat xpath="mods:extension[@displayLabel='characteristics']/chars">
            <div class="col-md-2 offset-md-3">
              <xed:bind xpath="@year">
                <input type="text" class="form-control" placeholder="{i18n:mir.placeholder.characteristics.year}" />
              </xed:bind>
            </div>
            <div class="col-md-2">
              <xed:bind xpath="@factor">
                <input type="text" class="form-control" placeholder="{i18n:mir.placeholder.characteristics.factor}" />
              </xed:bind>
            </div>
            <div class="col-md-2">
              <xed:bind xpath="@refereed">
                <select class="form-control form-select" style="font-weight:bold;">
                  <option value="">
                    <xed:output i18n="mir.select.optional" />
                  </option>
                  <option value="yes">
                    <xed:output i18n="mir.characteristics.yes" />
                  </option>
                  <option value="no">
                    <xed:output i18n="mir.characteristics.no" />
                  </option>
                </select>
              </xed:bind>
            </div>
            <mir:help-pmud help-text="{i18n:mir.help.extension.characteristics}" pmud="true" />
          </xed:repeat>
        </div>
      </div>
    </fieldset>

  </xed:template>

  <xed:template id="cancel.submit">
    <div class="mir-form-group row" id="editor-buttons">
      <div class="offset-md-2 col-md-6">
        <button type="submit" class="btn btn-secondary" xed:target="cancel">
          <xed:output i18n="button.cancel" />
        </button>
        <xed:choose>
          <!-- xed:when test="/mycoreobject/@ID = 'mir_mods_00000000'" -->
          <xed:when test="contains(/mycoreobject/@ID, '_00000000')">
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="CreateObjectServlet">
              <xed:output i18n="button.save" />
            </button>
          </xed:when>
          <xed:otherwise>
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="UpdateObjectServlet">
              <xed:output i18n="button.save" />
            </button>
          </xed:otherwise>
        </xed:choose>
      </div>
    </div>
  </xed:template>

  <xed:template id="debug.cancel.submit">
    <div class="mir-form-group row" id="editor-buttons">
      <div class="offset-md-2 col-md-6">
        <button type="submit" class="btn btn-secondary" xed:target="debug">Debug</button>
        <button type="submit" class="btn btn-secondary" xed:target="cancel">
          <xed:output i18n="button.cancel" />
        </button>
        <xed:choose>
          <!-- xed:when test="/mycoreobject/@ID = 'mir_mods_00000000'" -->
          <xed:when test="contains(/mycoreobject/@ID, '_00000000')">
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="CreateObjectServlet">
              <xed:output i18n="button.save" />
            </button>
          </xed:when>
          <xed:otherwise>
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="UpdateObjectServlet">
              <xed:output i18n="button.save" />
            </button>
          </xed:otherwise>
        </xed:choose>
      </div>
    </div>
  </xed:template>

  <xed:template id="cancel.redirect.submit">
    <div class="mir-form-group row" id="editor-buttons">
      <div class="offset-md-2 col-md-6">
        <button type="submit" class="btn btn-secondary" xed:target="cancel">
          <xed:output i18n="button.cancel" />
        </button>
        <xed:choose>
          <!-- xed:when test="/mycoreobject/@ID = 'mir_mods_00000000'" -->
          <xed:when test="contains(/mycoreobject/@ID, '_00000000')">
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="CreateObjectAppendDerivateServlet">
              <xed:output i18n="button.saveandredirect" />
            </button>
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="CreateObjectServlet">
              <xed:output i18n="button.save" />
            </button>
          </xed:when>
          <xed:otherwise>
            <button type="submit" class="btn btn-primary" xed:target="servlet" xed:href="UpdateObjectServlet">
              <xed:output i18n="button.save" />
            </button>
          </xed:otherwise>
        </xed:choose>
      </div>
    </div>
  </xed:template>

  <xed:template id="failed-validation-messages">
    <xed:if test="$xed-validation-failed">
      <div class="alert alert-danger">
        <h3>
          <xed:output i18n="mir.validation.failed" />
        </h3>
        <ul class="mir-validation-messages">
          <xed:display-validation-messages />
        </ul>
      </div>
    </xed:if>
  </xed:template>

  <xed:template id="validation-rules">
    <xed:load-resource name="mir_genres" uri="classification:metadata:-1:children:mir_genres" />
    <xed:validate xpath="//mods:mods/mods:genre[@authorityURI=$mir_genres/label[@xml:lang='x-uri']/@text]/@valueURIxEditor" required="true"
      i18n="mir.validation.genre" display="global" />
    <!-- don't validate rights for specified genres configured in MIR.Editor.Validate.Genre.Licence -->
    <xed:if test="//mods:mods/mods:genre[not(contains(concat(' ',$MIR.Editor.Validate.Genre.Licence,' '),concat(' ',@valueURIxEditor,' ')))]">
      <xed:validate xpath="//mods:mods/mods:accessCondition[@type='use and reproduction']" required="true" i18n="mir.validation.rights" display="global" />
    </xed:if>

    <xed:validate xpath="//mods:mods/mods:identifier[@type='isbn']|//mods:relatedItem[contains(@xlink:href,'mods_00000000')]/mods:identifier[@type='isbn']" matches="^((978|979)-?)?([\d -]{12}|\d{9})(\d|X)$" i18n="mir.validation.isbn" display="global" />
    <xed:validate xpath="//mods:mods/mods:identifier[@type='issn']|//mods:relatedItem[contains(@xlink:href,'mods_00000000')]/mods:identifier[@type='issn']" matches="[\dX]{4}\-[\dX]{4}" i18n="mir.validation.issn" display="global" />
    <xed:validate xpath="//mods:mods/mods:identifier[@type='doi']" matches="10\.\d+.*" i18n="mir.validation.doi" display="global" />
    <xed:validate xpath="//mods:mods/mods:identifier[@type='hdl']" matches="\S+/\S+" i18n="mir.validation.handle" display="global" />
    <xed:validate xpath="//mods:mods/mods:identifier[@type='urn']" matches="urn:nbn:[a-z]{2}:\S*" i18n="mir.validation.urn" display="global" />
    <xed:validate xpath="//mods:mods/mods:identifier[@type='ppn']" class="org.mycore.mir.validation.MIRValidationHelper" method="validatePPN" display="global" i18n="mir.validation.ppn" />
    <xed:validate xpath="//mods:url|//mods:abstract/@xlink:href" matches="(ftp|http|https)://[\w\d.]+\S*" i18n="mir.validation.url" display="global" />
    <xed:validate xpath="//mods:*[@encoding='w3cdtf'][not(ancestor::mods:recordInfo)]|//mods:mods/mods:accessCondition[@type='embargo']" matches="\d{4}(\-\d{2}(\-\d{2})(T\d{2}:\d{2}:\d{2}\+\d{2}:\d{2})?)?"
                  type="datetime" format="yyyy;yyyy-MM;yyyy-MM-dd;yyyy-MM-dd'T'HH:mm:ssZ" i18n="mir.validation.date" display="global" />
    <xed:validate xpath="//mods:*[@encoding='iso8601']" matches="\d{4}(\d{2}(\d{2})?)?(T\d{2}\d{2}\d{2})?(\/\d{4}(\d{2}(\d{2})?)?(T\d{2}\d{2}\d{2})?)?" display="global"  i18n="mir.validation.date.iso8601"/>
    <xed:validate xpath="//mods:part/@order" type="integer" display="global" i18n="mir.validation.order" />
  </xed:template>

  <xed:template id="cleanup-rules">
    <xed:cleanup-rule xpath="//mods:*"
      relevant-if="(string-length(normalize-space(text())) &gt; 0) or mods:* or cmd:* or (string-length(@xlink:href) &gt; 0) or (string-length(@valueURIxEditor) &gt; 0) or (string-length(@mcr:categId) &gt; 0) or (string-length(@order) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:name" relevant-if="(mods:namePart|mods:displayForm) or (string-length(@valueURI) &gt; 0) or (string-length(@valueURIxEditor) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:name/@authorityURI" relevant-if="(string-length(../@valueURI) &gt; 0) or (string-length(../@valueURIxEditor) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:roleTerm" relevant-if="(string-length(@valueURI) &gt; 0) or (string-length(@valueURIxEditor) &gt; 0) or (string-length(@authority) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:role/mods:roleTerm[@authorityURI='https://www.mycore.de/classifications/author_roles']" relevant-if="(../mods:roleTerm[@authority='marcrelator'and text()='aut']) and (string-length(@valueURIxEditor) &gt; 0)" />
   <!-- <xed:cleanup-rule xpath="//mods:topic/@authorityURI" relevant-if="(string-length(../@valueURI) &gt; 0) or (string-length(../@valueURIxEditor) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:topic/@authority" relevant-if="(string-length(../@valueURI) &gt; 0) or (string-length(../@valueURIxEditor) &gt; 0)" /> -->
    <xed:cleanup-rule xpath="//mods:geographic/@authorityURI" relevant-if="(string-length(../@valueURI) &gt; 0) or (string-length(../@valueURIxEditor) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:geographic/@authority" relevant-if="(string-length(../@valueURI) &gt; 0) or (string-length(../@valueURIxEditor) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:name/mods:namePart" relevant-if="string-length(text()) &gt; 0" />
    <xed:cleanup-rule xpath="//mods:name/mods:namePart/@type" relevant-if="../@type!='other'" />
    <xed:cleanup-rule xpath="//mods:*/@xlink:type" relevant-if="text()!='simple'" />
    <xed:cleanup-rule xpath="//mods:detail" relevant-if="mods:number|mods:caption|mods:title" />
    <xed:cleanup-rule xpath="//mods:accessCondition[@type='copyrightMD']" relevant-if="string-length(cmd:copyright/cmd:rights.holder/cmd:name/text()) &gt; 0" />
    <xed:cleanup-rule xpath="//mods:accessCondition[@type='restriction on access']" relevant-if="string-length(text()) &gt; 0" />
    <xed:cleanup-rule xpath="//mods:accessCondition[@type='use and reproduction']" relevant-if="string-length(text()) &gt; 0" />
    <xed:cleanup-rule xpath="//mods:extension[@displayLabel='characteristics']" relevant-if="(string-length(chars/@year) &gt; 0) or (string-length(chars/@refereed) &gt; 0)" />
    <xed:cleanup-rule xpath="//mods:extension[@type='datacite-funding']" relevant-if="*" />
    <xed:cleanup-rule xpath="//structure/parents" relevant-if="false()" />
    <xed:cleanup-rule xpath="//mods:dateIssued" relevant-if="@encoding='w3cdtf' and string-length(text()) &gt; 0" />
    <xed:cleanup-rule xpath="//mods:relatedItem/mods:location|//mods:relatedItem/mods:genre" relevant-if="string-length(../@xlink:href)=0" />
    <xed:cleanup-rule xpath="//mods:relatedItem/mods:location" relevant-if="mods:*" />
    <xed:cleanup-rule xpath="//mods:relatedItem/mods:genre[@type='intern']" relevant-if="string-length(@valueURIxEditor) &gt; 0" />
  </xed:template>

  <xed:template id="javascript">
    <mir:editorConfig/>
    <script type="text/javascript" src="{$WebApplicationBaseURL}js/jquery.search-entity.min.js"></script>
    <script src="{$WebApplicationBaseURL}assets/jquery/plugins/typeahead/bloodhound.min.js" type="text/javascript"></script>
    <script src="{$WebApplicationBaseURL}assets/jquery/plugins/bootstrap3-typeahead/bootstrap3-typeahead.min.js" type="text/javascript"></script>
    <script src="{$WebApplicationBaseURL}js/mir/relatedItem-autocomplete.min.js" type="text/javascript"></script>
    <script src="{$WebApplicationBaseURL}js/mir/item-autocomplete.js" type="text/javascript"></script>
    <link href="{$WebApplicationBaseURL}assets/bootstrap-datepicker/css/bootstrap-datepicker.css" rel="stylesheet"/>
    <script type="text/javascript"
            src="{$WebApplicationBaseURL}assets/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
    <script type="text/javascript"
            src="{$WebApplicationBaseURL}assets/bootstrap-datepicker/locales/bootstrap-datepicker.de.min.js"></script>
    <script type="text/javascript" src="{$WebApplicationBaseURL}assets/moment/min/moment.min.js"></script>
    <script type="text/javascript" src="{$WebApplicationBaseURL}js/mir/xeditor-form.min.js"></script>
    <script type="text/javascript" src="{$WebApplicationBaseURL}js/mir/bootstrap-datepicker-timepicker/bootstrap-datepicker-timepicker.js"></script>
    <script type="text/javascript" src="{$WebApplicationBaseURL}js/mir/bootstrap-datepicker-timepicker/bootstrap-datepicker-timepicker.de.js"></script>
    <script type="text/javascript" src="{$WebApplicationBaseURL}assets/tinymce/tinymce.js"></script>
    <script type="text/javascript" src="{$WebApplicationBaseURL}assets/tinymce/config.js"></script>
    <link rel="stylesheet" type="text/css" href="{$WebApplicationBaseURL}assets/select2/css/select2.min.css"/>
    <script type="text/javascript" src="{$WebApplicationBaseURL}assets/select2/js/select2.min.js"/>
    <script type="text/javascript" src="{$WebApplicationBaseURL}assets/select2/js/i18n/{$MCR.Metadata.DefaultLang}.js"/>
    <script src="{$WebApplicationBaseURL}assets/vue/vue.runtime.global.prod.js"/>
    <script src="{$WebApplicationBaseURL}vue/name-search/nameSearch.umd.min.js"/>
    <script src="{$WebApplicationBaseURL}vue/editor-tools/editor-tools.umd.min.js"/>
    <link href="{$WebApplicationBaseURL}vue/name-search/nameSearch.css" rel="stylesheet"/>
    <link href="{$WebApplicationBaseURL}vue/editor-tools/editor-tools.css" rel="stylesheet"/>
    <script>
      document.querySelectorAll(".nameSearchApp").forEach(function (element) {
      Vue.createApp(nameSearch, {
      defineOwnIdentifier : element.getAttribute("define-own-identifier") === "true"
      }).mount(element);
      });

      document.querySelectorAll(".editorToolsApp").forEach(function (element) {
        Vue.createApp(window["editor-tools"]).mount(element);
      });
    </script>
  </xed:template>

</xed:template>
